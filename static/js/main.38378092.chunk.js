(this["webpackJsonpkolgate-playground"]=this["webpackJsonpkolgate-playground"]||[]).push([[0],{111:function(e,t,a){e.exports=a(134)},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},125:function(e,t,a){e.exports=a.p+"static/media/durian.6ad4c00c.png"},126:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(11),c=a.n(r),o=(a(116),a(41)),s=a(42),u=a(47),i=a(46),m=a(99),d=a(14),p=a(84),f=a(100),h=a(6);a(57),a(117);function b(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(""),s=Object(h.a)(o,2),u=s[0],i=s[1];if(Object(n.useEffect)((function(){m()}),[]),!e.commentControl)return null;function m(){var t="http://localhost:5000/comments/"+e.postID;fetch(t).then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(){console.log("error")}))}return l.a.createElement("div",{class:"detailBox"},l.a.createElement("div",{class:"actionBox"},r.map((function(e){return l.a.createElement("ul",{class:"commentList"},l.a.createElement("li",null,l.a.createElement("div",{class:"commenterImage"},l.a.createElement("img",{src:"http://lorempixel.com/50/50/people/7"})),l.a.createElement("div",{class:"commentText"},l.a.createElement("h4",{className:"userName"},e.userName),l.a.createElement("p",{class:""},e.bodyText)," ",l.a.createElement("span",{class:"date sub-text"},e.createdAt))))})),l.a.createElement("form",{class:"form-inline",role:"form"},l.a.createElement("div",{class:"form-group"},l.a.createElement("input",{class:"form-control",type:"text",placeholder:"Your comments",value:u,onChange:function(e){return i(e.target.value)}})),l.a.createElement("div",{class:"form-group"},l.a.createElement("button",{class:"commentButton",onClick:function(t){t.preventDefault(),null==e.userID?alert("You need to log in first!"):0==u.length&&alert("comment cannot be empty!"),null!=e.userID&&u.length>0&&fetch("http://localhost:5000/comments/add",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({bodyText:u,userName:e.userName,postID:e.postID,userID:e.userID})}).then((function(e){return alert("comment added!")})).then((function(){return m()})).then((function(){return i(null)}))}},"Add")))))}a(34);var g=a(85),E=a.n(g),v=a(89),O=a.n(v),j=a(90),S=a.n(j),I=a(91),y=a.n(I);a(118);function N(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!0),s=Object(h.a)(o,2),u=(s[0],s[1],Object(n.useState)(!1)),i=Object(h.a)(u,2),m=i[0],d=i[1],p=Object(n.useState)(!1),f=Object(h.a)(p,2),g=f[0],v=f[1],j=Object(n.useRef)(0),I=Object(n.useRef)(0),N=Object(n.useState)(0),x=Object(h.a)(N,2),w=(x[0],x[1]),D=Object(n.useState)(0),C=Object(h.a)(D,2),k=(C[0],C[1]);function T(){m?(fetch("http://localhost:5000/posts/deleteUp",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({postID:e.post._id,userID:e.userID})}),d(!1),j.current--):(fetch("http://localhost:5000/posts/addUp",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({postID:e.post._id,userID:e.userID})}),d(!0),j.current++)}function B(){g?(fetch("http://localhost:5000/posts/deleteDown",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({postID:e.post._id,userID:e.userID})}),v(!1),I.current--):(fetch("http://localhost:5000/posts/addDown",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({postID:e.post._id,userID:e.userID})}),v(!0),I.current++)}return Object(n.useEffect)((function(){d(e.post.ups.includes(e.userID)),v(e.post.downs.includes(e.userID)),w(e.post.ups.length),k(e.post.downs.length)}),[]),l.a.createElement("div",{className:"container"},l.a.createElement("div",{class:"card"},l.a.createElement("div",{class:"card-header"},l.a.createElement("h5",{className:"title"},e.post.title),l.a.createElement("h6",{className:"name"},"Posted by ".concat(e.post.userName))),l.a.createElement("div",{class:"card-body"},l.a.createElement("p",{class:"card-text"},e.post.bodyText)),l.a.createElement("label",{className:"date"}," ",e.post.fecha.substring(0,10)),l.a.createElement("div",{className:"likeContainer"},l.a.createElement("button",{className:"likeButton",onClick:function(){return T()}},m?l.a.createElement(E.a,{fontSize:"small"}):l.a.createElement(O.a,{fontSize:"small"}),l.a.createElement("div",{className:"NumberOfLikes"},e.post.ups.length+j.current)),l.a.createElement("button",{className:"likeButton",onClick:function(){return B()}},g?l.a.createElement(S.a,{fontSize:"small"}):l.a.createElement(y.a,{fontSize:"small"}),l.a.createElement("div",{className:"NumberOfLikes"},e.post.downs.length+I.current)),l.a.createElement("button",{className:"postButton",onClick:function(){return c(!r)}},"Comment")),l.a.createElement(b,{userName:e.userName,postID:e.post._id,commentControl:r,userID:e.userID})),l.a.createElement("br",null))}var x=a(176),w=a(179);function D(e){var t=Object(n.useState)(""),a=Object(h.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(""),s=Object(h.a)(o,2),u=s[0],i=s[1];return l.a.createElement(x.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(x.a.Header,{closeButton:!0},l.a.createElement(x.a.Title,{id:"contained-modal-title-vcenter"},"New Post")),l.a.createElement(x.a.Body,null,l.a.createElement("h4",null,"Title:"," ",l.a.createElement("input",{value:u,onChange:function(e){return i(e.target.value)}})),l.a.createElement("textarea",{name:"Text",value:r,cols:"70",rows:"5",onChange:function(e){return c(e.target.value)}})),l.a.createElement(x.a.Footer,null,l.a.createElement(w.a,{onClick:function(){!function(){var t=(new Date).toISOString();e.onHide({title:u,bodyText:r,fecha:t,userID:e.userID,userName:e.userName,ups:[],downs:[]})}()}},"Save")))}var C=a(169),k=a(96),T=a.n(k),B=a(70),P=(a(82),B.initializeApp({apiKey:"AIzaSyDBU3PgQ6Nfz-3XRAZGu3TCzl5tKMrg4D0",authDomain:"kolgate-playground.firebaseapp.com",databaseURL:"https://kolgate-playground.firebaseio.com",projectId:"kolgate-playground",storageBucket:"kolgate-playground.appspot.com",messagingSenderId:"273177696038",appId:"1:273177696038:web:5f5bccefbec4325bf3d3e7"}));var U=function(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],r=t[1],c=l.a.useState(!1),o=Object(h.a)(c,2),s=o[0],u=o[1],i=l.a.useState(!1),m=Object(h.a)(i,2),d=m[0],b=m[1],g=l.a.useState(""),E=Object(h.a)(g,2),v=(E[0],E[1]),O=l.a.useState(""),j=Object(h.a)(O,2),S=(j[0],j[1]),I=l.a.useState(""),y=Object(h.a)(I,2),x=(y[0],y[1]),w=l.a.useState(""),k=Object(h.a)(w,2),B=k[0],U=k[1];function L(){fetch("http://localhost:5000/posts/").then((function(e){return e.json()})).then((function(e){return r(e)}))}return Object(n.useEffect)((function(){var e=localStorage.getItem("userUID123456789"),t=localStorage.getItem("userEmail123456789"),a=localStorage.getItem("userPassword123456789");if(v(e),S(t),x(a),e){P.auth().signInWithEmailAndPassword(t,a).then((function(e){}));var n="http://localhost:5000/users/"+e;console.log("UID is "+e),function(e){fetch(e).then((function(e){return e.json()})).then((function(e){return U(e)}))}(n),b(!0)}L(),console.log("fuck myself")}),[]),l.a.createElement("div",null,l.a.createElement("div",{className:"buttonContainer"},l.a.createElement("div",{className:"center"},l.a.createElement(C.a,{"aria-label":"Add",onClick:function(){d?u(!0):alert("You need to log in first")}},l.a.createElement(T.a,null)))),l.a.createElement(D,{userID:B.UID,userName:B.userName,show:s,onHide:function(e){if(u(!1),void 0!==e&&""!=e.title&&""!=e.bodyText){r([e].concat(Object(f.a)(a)));var t=(new Date).toISOString();fetch("http://localhost:5000/posts/add",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.title,bodyText:e.bodyText,fecha:t,userID:e.userID,userName:e.userName,ups:[],downs:[]})}).then((function(){return L()})),console.log(e)}}}),l.a.createElement("div",{className:"HomePosts"},a.sort((function(e,t){return new Date(t.fecha)-new Date(e.fecha)})).map((function(e){return l.a.createElement(N,Object(p.a)({userName:B.userName,post:e,userID:B.UID},"userName",B.userName))}))))},L=a(174),z=a(175),H=a(170),A=a(180),F=Object(H.a)((function(e){return Object(A.a)({root:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"}})}));function J(e){var t=F(),a=Object(n.useState)(""),r=Object(h.a)(a,2),c=r[0],o=r[1],s=Object(n.useState)(""),u=Object(h.a)(s,2),i=u[0],m=u[1],d=Object(n.useState)(""),p=Object(h.a)(d,2),f=p[0],b=p[1],g=Object(n.useState)(!1),E=Object(h.a)(g,2),v=E[0],O=E[1],j=Object(n.useState)(!1),S=Object(h.a)(j,2),I=S[0],y=S[1],N=Object(n.useState)(!1),D=Object(h.a)(N,2),C=D[0],k=D[1],T=Object(n.useState)(!1),B=Object(h.a)(T,2),P=B[0],U=B[1],L=Object(n.useState)(!1),H=Object(h.a)(L,2);H[0],H[1];return l.a.createElement(x.a,Object.assign({},e,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(x.a.Header,{closeButton:!0},l.a.createElement(x.a.Title,{id:"contained-modal-title-vcenter"},"Sign up")),l.a.createElement(x.a.Body,null,l.a.createElement(z.a,{label:"Name",id:"outlined-margin-dense",defaultValue:"",className:t.textField,helperText:"",margin:"dense",variant:"outlined",value:f,onChange:function(e){return b(e.target.value)}}),l.a.createElement("br",null),l.a.createElement(z.a,{label:"Email",id:"outlined-margin-dense",defaultValue:"xxxxx@colgate.edu",className:t.textField,helperText:"",margin:"dense",variant:"outlined",value:c,onChange:function(e){return o(e.target.value)}}),l.a.createElement("br",null),l.a.createElement(z.a,{label:"Password",id:"outlined-margin-dense",defaultValue:"",className:t.textField,helperText:"",margin:"dense",variant:"outlined",value:i,onChange:function(e){return m(e.target.value)}}),C?l.a.createElement("plaintext",null,"*you must enter an email addresss"):null,v?l.a.createElement("plaintext",null,"*only kolgate email is accepted"):null,I?l.a.createElement("plaintext",null,"*your password is too simple"):null,P?l.a.createElement("plaintext",null,"*your name is too short"):null),l.a.createElement(x.a.Footer,null,l.a.createElement(w.a,{onClick:function(){c.includes("@")&&c.includes("colgate")&&i.length>=8&&f.length>=3&&e.onHide({email:c,password:i,userName:f}),c.includes("@")?(k(!1),c.includes("colgate")?O(!1):O(!0)):k(!0),i.length<8?y(!0):y(!1),f.length<3?U(!0):U(!1)}},"sign up")))}var W=Object(H.a)((function(e){return Object(A.a)({root:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"}})}));function R(e){var t=W(),a=Object(n.useState)(""),r=Object(h.a)(a,2),c=r[0],o=r[1],s=Object(n.useState)(""),u=Object(h.a)(s,2),i=u[0],m=u[1],d=Object(n.useState)(!1),p=Object(h.a)(d,2),f=p[0],b=p[1];return l.a.createElement(x.a,Object.assign({},e,{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),l.a.createElement(x.a.Header,{closeButton:!0},l.a.createElement(x.a.Title,{id:"contained-modal-title-vcenter"},"Log in")),l.a.createElement(x.a.Body,null,l.a.createElement(z.a,{label:"Email",id:"outlined-margin-dense",defaultValue:"",className:t.textField,helperText:"",margin:"dense",variant:"outlined",value:c,onChange:function(e){return o(e.target.value)}}),l.a.createElement("br",null),l.a.createElement(z.a,{label:"Password",id:"outlined-margin-dense",defaultValue:"xxxxx@colgate.edu",className:t.textField,helperText:"",margin:"dense",variant:"outlined",value:i,onChange:function(e){return m(e.target.value)}}),l.a.createElement("br",null),l.a.createElement("br",null),f?l.a.createElement("plaintext",null,"*both fields cannot be empty"):null),l.a.createElement(x.a.Footer,null,l.a.createElement(w.a,{onClick:function(){b(!1),c.length>0&&i.length>0?0==f&&e.onHide({email:c,password:i}):b(!0)}},"log in")))}a(101),a(172),a(178),a(173),a(98),a(97),a(171),a(177);Object(H.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}})),"".concat(150,"px"),"".concat(800,"px");function V(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=(t[0],t[1],l.a.useState(!1)),r=Object(h.a)(a,2),c=(r[0],r[1],l.a.useState(!1)),o=Object(h.a)(c,2),s=o[0],u=o[1],i=l.a.useState(!1),m=Object(h.a)(i,2),d=m[0],p=m[1],f=l.a.useState(!1),b=Object(h.a)(f,2),g=b[0],E=b[1],v=l.a.useState(""),O=Object(h.a)(v,2),j=O[0],S=O[1];function I(e){fetch(e).then((function(e){return e.json()})).then((function(e){return S(e)}))}Object(n.useEffect)((function(){var e=localStorage.getItem("userUID123456789"),t=localStorage.getItem("userEmail123456789"),a=localStorage.getItem("userPassword123456789");e&&(E(!0),I("http://localhost:5000/users/"+e),P.auth().signInWithEmailAndPassword(t,a).then((function(e){})))}),[]);return g?l.a.createElement("div",null,g?l.a.createElement("div",{className:"centerLogOut"},l.a.createElement(L.a,{variant:"contained",className:"userButton",onClick:function(){return localStorage.removeItem("userUID123456789"),localStorage.removeItem("userEmail123456789"),localStorage.removeItem("userPassword123456789"),void E(!1)}},"Sign Out"),j.email,j.password,j.UID):null):l.a.createElement("div",null,g?null:l.a.createElement("div",{className:"centerLogin"},l.a.createElement(L.a,{variant:"contained",className:"userButton",onClick:function(){return u(!0)}},"Sign up"),l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement(L.a,{variant:"contained",className:"userButton",onClick:function(){return p(!0)}},"Log in")),l.a.createElement(J,{show:s,onHide:function(e){u(!1),void 0!==e&&P.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){var a,n,l,r;t&&(alert("sign up success"),console.log(t),a=e.email,n=e.userName,l=e.password,r=t.user.uid,fetch("http://localhost:5000/users/add",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,userName:n,password:l,UID:r})}))})).catch((function(e){e&&(alert("sign up failed"),console.log(e))}))}}),l.a.createElement(R,{show:d,onHide:function(e){p(!1),void 0!==e&&P.auth().signInWithEmailAndPassword(e.email,e.password).then((function(t){alert("log in success");var a=t.user.uid;localStorage.setItem("userUID123456789",a),localStorage.setItem("userEmail123456789",e.email),localStorage.setItem("userPassword123456789",e.password),I("http://localhost:5000/users/"+a),E(!0)})).catch((function(e){e&&alert(e)}))}}))}var _=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Contact"))}}]),a}(n.Component),K=(a(125),a(126),l.a.Component,a(127),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("a",{class:"navbar-brand",href:"#"},"Kolgate Playground"),l.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarNav"},l.a.createElement("ul",{class:"navbar-nav ml-auto"},l.a.createElement("li",{class:"nav-item active"},l.a.createElement("a",{class:"nav-link",href:"/"},"Home ",l.a.createElement("span",{class:"sr-only"},"(current)"))),l.a.createElement("li",{class:"nav-item active"},l.a.createElement("a",{class:"nav-link",href:"/Contact"},"Contact")),l.a.createElement("li",{class:"nav-item active"},l.a.createElement("a",{class:"nav-link",href:"/LogIn"},"Login"))))),l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/",component:U}),l.a.createElement(d.a,{path:"/contact",component:_}),"/* ",l.a.createElement(d.a,{path:"/LogIn",component:V}))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(131);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(K,null),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},57:function(e,t,a){}},[[111,1,2]]]);
//# sourceMappingURL=main.38378092.chunk.js.map